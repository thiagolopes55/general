"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[66],{37152:(e,t,n)=>{n.r(t),n.d(t,{SlideThumbnail:()=>It,default:()=>bt});var r=n(17588),o=n(14726),i=n(76336),a=n(22590);let l={getInteractivityActionsSnapshot:()=>{throw new Error("interactivity actions snapshot cannot be resolved with the default document model env")},resolveTaskRef:e=>{const t=(0,a.KW)(e);if(!t)return e;throw new Error(`task ref '${t}' cannot be resolved with the default document model env`)}};function s(){return l}var d=n(43488),c=n(89545),u=n(19769);const m={position:"absolute",left:0,right:0,top:0,bottom:0,contain:"strict"},p=(0,o.PA)((e=>{var t,n,o,i;let{backgroundImage:a,backgroundImageOpacity:l,backgroundImageSize:s,backgroundImagePosition:d,backgroundColor:c,onClick:u}=e;const p=u;return r.createElement(r.Fragment,null,r.createElement("div",{onClick:p,style:{...m,backgroundColor:c},role:"button",tabIndex:p?0:void 0,"aria-label":p?"slide background":void 0}),a&&r.createElement("div",{style:{...m,opacity:l,backgroundRepeat:"no-repeat",backgroundPositionX:null!==(t=null===d||void 0===d?void 0:d.PositionLeft)&&void 0!==t?t:0,backgroundPositionY:null!==(n=null===d||void 0===d?void 0:d.PositionTop)&&void 0!==n?n:0,backgroundSize:`${null!==(o=null===s||void 0===s?void 0:s.Width)&&void 0!==o?o:0} ${null!==(i=null===s||void 0===s?void 0:s.Height)&&void 0!==i?i:0}`,backgroundImage:`url('${encodeURI(a)}')`,pointerEvents:"none"}}))})),v=(0,r.createContext)(void 0);function f(){const e=(0,r.useContext)(v);if(!e)throw new Error("FakeItems context missing");return e}const h="CHART_DATA_TABLE",g=e=>{if("data"in e&&e.data){const{ZIndex:t}=e.data;if(void 0!==t&&null!==t)return Number(t)}if("ZIndex"in e){const{ZIndex:t}=e;if(void 0!==t&&null!==t)return Number(t)}};function w(e){return"serializedData"in e?e.serializedData:"data"in e?"serializedData"in e.data?e.data.serializedData:e.data:e}var y=n(33964),I=n(38850);function b(e){let{item:t,parentContainerBoxItem:n,positioned:r}=e;const o=w(t),i=n?w(n):void 0,a=(0,I.M)({item:o,parentContainerBoxItem:i,positioned:r});return a.zIndex=g(t),a}var x=n(37577);const C=x.Ay.div((e=>{let{theme:{color:t}}=e;return{position:"absolute",margin:0,backgroundColor:t.background.accent.default(.15),"& img":{border:`1px solid ${t.border.accent.default()}`,width:"100%",height:"100%",userSelect:"none"}}})),k=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const s=(0,y.l)(l,n,o,i,a);return r.createElement(C,{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{width:"100%",height:"100%",contain:"strict",...b({item:n,parentContainerBoxItem:i})},...s})})));var A=n(97690),S=n(67702),B=n(50844),E=n(75743);var P=n(3784),$=n(8889),T=n(40039),z=n(79410);const R=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:l,rotate:s,events:d}=e;const{delta:c,slide:u,documentConfig:m}=f(),p=(0,y.l)(d,o,i,a,l),v=w(o),{color:h,curveTos:b,dash:x,headType:C,lineCap:k,Opacity:R,source:D,tailType:F,target:M,thickness:L}=v,{sourceRect:W,targetRect:Q}=(0,T.w)(D,M,"logical")(u.items),G=null!==(n=v.dataPositionAndSizeWithoutCurveTos)&&void 0!==n?n:(0,P._)(D,M,"logical")(u.items),_=(0,$.Bw)(b,G),H=e=>e?(0,I.i)(w(e)):void 0,N=function(e){var t,n;let{parentSlideSize:r,parentContainerBoxLayout:o,parentGroupLayout:i}=e;const a={x:0,y:0,width:null===(t=null!==i&&void 0!==i?i:r)||void 0===t?void 0:t.width,height:null===(n=null!==i&&void 0!==i?i:r)||void 0===n?void 0:n.height,rotate:0};return o?(0,E.c)({layout:a,parentLayout:o}):a}({parentGroupLayout:H(i),parentContainerBoxLayout:H(a),parentSlideSize:u.size}),O={...N,rotate:0},{sourceItemSide:V,targetItemSide:q}=(0,z.Q)({source:D,sourceRect:W,target:M,targetRect:Q});return r.createElement(B.i,{"data-cy":`fakeItem-${o.type}-${o.Id}`,color:h,curveTos:_,dash:x,delta:c,documentConfigColors:null===m||void 0===m?void 0:m.colors,eventHandlers:p,headType:C,itemStyle:{display:v.IsHidden?"none":void 0,zIndex:g(o),...(0,S.k)(O)},lineCap:k,opacity:R,ref:t,rotate:s,sourceItemSide:V,sourceRect:W,tailType:F,targetItemSide:q,targetRect:Q,thickness:L,viewBox:N,arrowBetweenItemSidesProps:{style:{transformOrigin:"center center",transform:(0,A.Y)(N.rotate)},selectable:!!t}})}))),D=x.Ay.div((e=>{let{theme:{color:t}}=e;return{position:"absolute",margin:0,"& img":{border:`1px solid ${t.border.accent.default()}`,width:"100%",height:"100%",userSelect:"none"}}})),F=x.Ay.div((e=>{let{$padding:t}=e;return{padding:t,width:"inherit",height:"inherit"}})),M=x.Ay.div((e=>{let{theme:{size:t},$borderRadius:n,$width:r="inherit",$height:o="inherit"}=e;return{width:r,height:o,borderRadius:null!==n&&void 0!==n?n:t.units(2),overflow:"hidden"}})),L=x.Ay.div.attrs((e=>{let{$thumbnail:t,$positionX:n="center",$positionY:r="center"}=e;return{style:{backgroundImage:`url(${t})`,backgroundPosition:`${n} ${r}`,backgroundRepeat:"no-repeat",backgroundSize:"cover"}}}))((e=>{let{$height:t="100%"}=e;return{width:"100%",height:t,display:"flex",justifyContent:"center",alignItems:"center"}})),W=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:l,events:s}=e;const d=(0,y.l)(s,o,i,a,l),c=w(o),{thumbnail:u}=c,m=!(null===(n=c.script)||void 0===n||!n.config)&&"menuType"in c.script.config&&void 0!==c.script.config.menuType,{width:p,height:v,borderRadius:f,padding:h,position:g}=(e=>({width:e?"auto":"inherit",height:e?"48px":"inherit",borderRadius:e?"48px":"inherit",padding:e?"8px":void 0,position:{x:e?"left":void 0,y:e?"center":void 0}}))(m);return r.createElement(D,{"data-cy":`fakeItem-${o.type}-${o.Id}`,ref:t,style:{width:"100%",height:"100%",contain:"strict",...b({item:o,parentContainerBoxItem:a})},...d},u?r.createElement(F,{$padding:h},r.createElement(M,{$borderRadius:f,$width:p,$height:v},r.createElement(L,{$thumbnail:u,$positionX:g.x,$positionY:g.y,$height:v}))):r.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#fabada"}}))})));var Q=n(8144);const G=r.lazy((()=>Promise.all([n.e(342),n.e(176)]).then(n.bind(n,3144)))),_=e=>r.createElement(r.Suspense,{fallback:null},r.createElement(G,{...e})),H=r.lazy((()=>n.e(227).then(n.bind(n,7546)))),N=e=>r.createElement(r.Suspense,{fallback:null},r.createElement(H,{...e})),O=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const{documentConfig:s}=f(),d=(0,y.l)(l,n,o,i,a),{Data:c,Id:u,Options:m,Size:p,Type:v,RawData:g,tableRawData:w,Version:I}="data"in n?n.data:n,x=v,C=x===h,k=I>=1,A=I>=2?Q.j.LabelsFontSize:void 0,S=I<2,B=I>=3?m.TextColor:void 0,E={pointerEvents:"none"};return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...b({item:n,parentContainerBoxItem:i})},role:"button",tabIndex:void 0===d.onClick?0:void 0,...d},C?r.createElement(N,{cellStyles:m.CellStyles,data:w||g,id:u,tableStyles:m.TableStyles,normalWordBreak:k,style:E}):r.createElement(_,{colors:[...m.Colors],data:c,enableAnimation:!1,height:p.Height,id:u,invertYAxis:m.InvertYAxis,prefix:m.Prefix,showAxisLabels:m.AxisLabels,showLegend:m.Legend,showTooltip:m.Tooltip,suffix:m.Suffix,textColor:m.TextColor,type:x,width:p.Width,documentConfig:s,lineVariant:m.LineVariant,showLineMarkers:m.ShowMarkers,labelsFontSize:A,showTitles:S,colorAllTexts:B,style:E}))})));var V=n(63488),q=n(55634);const j=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n,o;let{item:i,events:a}=e;const{slide:l}=f(),s=null!==(n=l.containerBoxStateMap.get(i.Id))&&void 0!==n?n:{containedItems:[],side:void 0,cardItems:new Map,group:[]},d={...w(i),ZIndex:String(g(i)),type:i.type},u=function(e,t){const n=(0,r.useMemo)((()=>{const n={};return q.K.forEach((r=>{const o=null===e||void 0===e?void 0:e[r];n[r]=o?function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o(t,...r)}:void 0})),n}),[e,t]);return n}(a,i);return r.createElement(V.x,{ref:t,itemData:d,positioned:!0,sized:!0,rotated:!0,side:null!==(o=s.side)&&void 0!==o?o:c.Uv.Front,currentIndexCard:0,events:u},s.containedItems.map((e=>w(e).containerBoxSide!==s.side?null:r.createElement(gt,{key:e.Id,itemType:e.type,item:e,parentGroupItem:void 0,directParentContainerBoxItem:i,indirectParentContainerBoxItem:i,events:a}))))}))),Z=x.Ay.div((e=>{let{theme:{size:t}}=e;return{"&.blocked:hover":{"&::before":{content:"",top:t.units(-1/8),left:t.units(-1/8),width:`calc(100% + ${t.units(1/4)})`,height:`calc(100% + ${t.units(1/4)})`,border:"$dashed-border-selected",position:"absolute"}}}})),Y=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const s=(0,y.l)(l,n,o,i,a);return r.createElement(Z,{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"layout style",...b({item:n,parentContainerBoxItem:i})},...s},n.groupedItems.map((e=>r.createElement(gt,{key:e.Id,itemType:e.type,item:e,parentGroupItem:n,directParentContainerBoxItem:void 0,indirectParentContainerBoxItem:a,events:l}))))}))),U="v=cross_origin",X=new Date,K=`v=${X.getDay().toString()+X.getMonth().toString()+X.getFullYear().toString()}`,J=(e,t)=>{if(!e||!t)throw new Error("This function needs two params");try{let n=e;if(n.includes(t)){const r=e.split(t)[0];n=r.substring(0,r.length-1)}return n}catch(n){return e}};var ee=n(52428),te=n(42059);var ne=n(18537),re=n(22848);const oe=e=>{let{className:t,color:n,height:o,size:i,style:a,width:l,...s}=e;return r.createElement(re.A,{className:t,color:n,height:o,size:i,style:a,viewBox:"0 0 16 16",width:l,...s},r.createElement("g",null,r.createElement("path",{d:"M14,13H2V11L3.59,9.41a2,2,0,0,1,2.82,0L7,10,9.59,7.41a2,2,0,0,1,2.82,0L14,9ZM5.5,4A1.5,1.5,0,1,1,4,5.5,1.5,1.5,0,0,1,5.5,4ZM14,1H2A2,2,0,0,0,0,3V13a2,2,0,0,0,2,2H14a2,2,0,0,0,2-2V3a2,2,0,0,0-2-2Z"})))},ie=x.Ay.div((e=>{let{theme:{color:t,size:n,shadow:r}}=e;return{background:t.background.reversed.default(.4),width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:t.content.reversed.default(),borderRadius:n.units(.33),padding:n.units(.5),boxShadow:r.short}})),ae=(0,x.Ay)(oe)((()=>({width:"50%",height:"50%"}))),le=x.Ay.p((e=>{let{theme:{size:t},$showTitle:n}=e;return{display:n?"block":"none",fontSize:t.units(3)}})),se=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:l,events:d}=e;const c=(0,y.l)(d,o,i,a,l),u=w(o),{resolveTaskRef:m}=s(),p=function(e){if(!e)return e;if(!e.startsWith("http://")&&!e.startsWith("https://"))return e;let t=e;return e.includes(U)&&(t=J(t,K)),e.includes(K)&&(t=J(t,U)),t}(m(u.Source)),v=null!==(n=m(u.Offset))&&void 0!==n?n:ee.g,[f,h]=(0,r.useState)(null),[g,I]=(0,r.useState)(!1),[x,C]=(0,r.useState)(null),k=(0,r.useRef)(!1),A=(0,r.useRef)(/\.(gif)|data:image\/gif/.test(p)),S=(0,r.useCallback)((()=>{try{!function(e,t,n){const r=new Image;let o=n;n||(o={mimeType:"image/png"}),r.onload=()=>{try{var e;const n=document.createElement("canvas");n.width=r.width,n.height=r.height;const i=n.getContext("2d");i&&i.drawImage(r,0,0);const a=n.toDataURL(null===(e=o)||void 0===e?void 0:e.mimeType);t(null,a)}catch(n){t(!0,null)}},r.onerror=()=>{t(!0,null)},r.setAttribute("crossOrigin","anonymous"),r.src=(0,te.g)(e,{v:"anonymous"})}(p,((e,t)=>{k.current&&(e?I(!0):(h(t),C(p)))}))}catch(e){console.warn(e),I(!0)}}),[p]);if((0,r.useEffect)((()=>(k.current=!0,()=>{k.current=!1})),[]),(0,r.useEffect)((()=>{A.current&&S()}),[S]),(0,r.useEffect)((()=>{A.current?!A.current||f&&x===p||S():(h(null),I(!1),C(null))}),[p,f,x,S]),A.current&&!f&&!g)return null;const B=parseFloat(u.Size.Height)<200;return r.createElement("div",{"data-cy":`fakeItem-${o.type}-${u.Id}`,ref:t,style:{contain:"strict",overflow:"hidden",willChange:"transform",...b({item:o,parentContainerBoxItem:a})},className:u.Frame,role:"button",tabIndex:void 0===c.onClick?0:void 0,...c},g?r.createElement(ie,null,r.createElement(ae,null),r.createElement(le,{$showTitle:!B},"GIF")):r.createElement("div",{style:{position:"absolute",top:`${v.top}%`,left:`${v.left}%`,right:`${v.right}%`,bottom:`${v.bottom}%`}},r.createElement("img",{style:{position:"relative",width:"100%",height:"100%",display:"block",maxWidth:"100%",transform:(0,ne.P)(u.Transformations),objectFit:u.objectFit},src:f||p,alt:u.Name})))})));var de=n(48628),ce=n(29523),ue=n(61444),me=n(96384);const pe=e=>{let{item:t,disabled:n,feedbackText:o,questionSubtitleText:i,showAnswersIcon:a,feedbackColor:l,documentColors:s,t:d,hasDefaultAnimation:c=!1,answerSelectedPreview:u=!1,selectedAnswerIds:m,showCorrectAnswers:p=!1,timerMessage:v}=e;const{Question:f,Answers:h,Appearance:g,Id:w}=t,y=h.filter((e=>{let{Image:t}=e;return t.length>0}));return r.createElement(me.D,{type:ce.r.Image,itemId:w,question:f||d("__new.editor.activityConfiguration.questionPlaceholder"),disabled:n,showAnswersIcon:a,hasDefaultAnimation:c,documentColors:s,feedbackText:o,feedbackColor:l,questionSubtitleText:i,appearance:g,answers:y,answerSelectedPreview:u,selectedAnswerIds:m,showCorrectAnswers:p,timerMessage:v,dataCy:"imageInteractiveQuestionItem"})};pe.Container=me.D.Container,pe.Question=me.D.Question,pe.Subtitle=me.D.Subtitle,pe.Answers=me.D.Answers,pe.Answer=me.D.Answer,pe.Feedback=me.D.Feedback,pe.Button=me.D.Button;const ve=(0,o.PA)(pe);var fe=n(42118);const he=e=>{let{item:t,disabled:n,feedbackText:o,questionSubtitleText:i,showAnswersIcon:a,feedbackColor:l,documentColors:s,t:d,hasDefaultAnimation:c=!1,answerSelectedPreview:u=!1,selectedAnswerIds:m,showCorrectAnswers:p=!1,timerMessage:v}=e;const{Question:f,Answers:h,Appearance:g,Id:w}=t,y=h.filter((e=>{let{Text:t}=e;return t.length>0})),I=d("__new.editor.content.questionMultiple");return r.createElement(me.D,{type:ce.r.Quiz,itemId:w,question:f||I,disabled:n,showAnswersIcon:a,hasDefaultAnimation:c,documentColors:s,feedbackText:o,feedbackColor:l,questionSubtitleText:i,appearance:g,answers:y,answerSelectedPreview:u,selectedAnswerIds:m,showCorrectAnswers:p,timerMessage:v,dataCy:"quizInteractiveQuestionItem"})};he.Container=me.D.Container,he.Question=me.D.Question,he.Subtitle=me.D.Subtitle,he.Answers=me.D.Answers,he.Answer=me.D.Answer,he.Feedback=me.D.Feedback,he.Button=me.D.Button;const ge=(0,o.PA)(he);var we=n(85491);const ye=e=>{let{item:t,disabled:n,feedbackText:o,questionSubtitleText:i,showAnswersIcon:a,feedbackColor:l,documentColors:s,t:d,hasDefaultAnimation:c=!1,answerSelectedPreview:u=!1,selectedAnswerIds:m,showCorrectAnswers:p=!1,showResultPreview:v=!1,timerMessage:f}=e;const{Question:h,Answers:g,Appearance:w,Id:y}=t,I=g.filter((e=>{let{Text:t}=e;return t.length>0})),b=d("__new.editor.content.questionMultiple");return r.createElement(me.D,{type:ce.r.Survey,itemId:y,question:h||b,disabled:n,showAnswersIcon:a,hasDefaultAnimation:c,documentColors:s,feedbackText:o,feedbackColor:l,questionSubtitleText:i,appearance:w,answers:I,answerSelectedPreview:u,selectedAnswerIds:m,showCorrectAnswers:p,showResultPreview:v,showResultEnabled:t.Options.ShowResults,timerMessage:f,dataCy:"surveyInteractiveQuestionItem"})};ye.Container=me.D.Container,ye.Question=me.D.Question,ye.Subtitle=me.D.Subtitle,ye.Answers=me.D.Answers,ye.Answer=me.D.Answer,ye.Feedback=me.D.Feedback,ye.Button=me.D.Button;const Ie=(0,o.PA)(ye),be=e=>{let{item:t,disabled:n,feedbackText:o,showAnswersIcon:i,feedbackColor:a,documentColors:l,t:s,hasDefaultAnimation:d=!1,answerSelectedPreview:c=!1,selectedAnswerIds:u,showCorrectAnswers:m=!1,timerMessage:p}=e;const{Question:v,Answers:f,Appearance:h,Id:g}=t;return r.createElement(me.D,{type:ce.r.TrueFalse,itemId:g,question:v||s("__new.editor.content.placeholderQuestionTrueFalse"),disabled:n,showAnswersIcon:i,hasDefaultAnimation:d,documentColors:l,feedbackText:o,feedbackColor:a,appearance:h,answers:f,answerSelectedPreview:c,selectedAnswerIds:u,showCorrectAnswers:m,timerMessage:p,dataCy:"trueFalseInteractiveQuestionItem"})};be.Container=me.D.Container,be.Question=me.D.Question,be.Answers=me.D.Answers,be.Answer=me.D.Answer,be.Feedback=me.D.Feedback,be.Button=me.D.Button;const xe=(0,o.PA)(be);var Ce=n(37643),ke=n(16147),Ae=n(34270);const Se=x.Ay.input((e=>{let{theme:{size:t,transition:n},$borderColor:r,$isFilled:o,$color:i}=e;return{width:o?"100%":t.units(19),height:"auto",minHeight:t.units(4),fontSize:o?"20px":"16px",padding:`0 ${t.units(1.5)}`,backgroundColor:"transparent",border:`1px 'solid' ${r}`,borderRadius:t.units(.5),transition:n.standard(),textAlign:"center",lineHeight:t.units(5),justifyContent:"center",alignItems:"center",gap:t.units(.5),color:i,"::placeholder":{color:(0,Ae.Z6)(i,.7).hexAlpha},...Ae.iF.mixins.ellipsis(!0)}})),Be=x.Ay.span((e=>{let{theme:{size:t}}=e;return{position:"relative",margin:`0 ${t.units(.5)}`,display:"inline-flex",flexDirection:"column",[Se]:{marginTop:t.units(1)}}})),Ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;if("number"===typeof e)return`${e}px`;if("string"===typeof e){const r=e.trim().match(/^([\d.]+)(px|pt|rem|em)?$/i);if(r&&r[1]){var n;const e=parseFloat(r[1]),o=null===(n=r[2])||void 0===n?void 0:n.toLowerCase();return`${(()=>{switch(o){case"px":case void 0:return e;case"pt":return e*(96/72);case"rem":case"em":return e*t;default:return e}})()}px`}}return`${t}px`},Pe=(0,r.forwardRef)(((e,t)=>{var n,o,i;let{node:a,appearance:l,answers:s,documentColors:d}=e;const c=(0,x.DP)(),{id:u}=a.attrs,m=s.find((e=>e.Id===u)),p=null!==(n=null===m||void 0===m?void 0:m.Text)&&void 0!==n?n:"",v=(0,ke.O)(d);return r.createElement(Be,{$isFilled:!!p},r.createElement(Se,{ref:t,contentEditable:!1,$borderColor:null!==(o=v(l.Text.FontColor))&&void 0!==o?o:c.color.border.tertiary.default(),$color:null!==(i=v(l.Text.FontColor))&&void 0!==i?i:c.color.content.primary.default(),$isFilled:!0,value:p,size:p.length>0?p.length:1,style:{...(()=>{var e,t,n,r,o,i,s,d;const{marks:u}=a,m=null===(e=u.find((e=>"fontSize"===e.type.name)))||void 0===e?void 0:e.attrs.size;return{fontFamily:null===(t=u.find((e=>"fontFamily"===e.type.name)))||void 0===t?void 0:t.attrs.fontFamily,fontSize:m?Ee(m):"20px",fontWeight:u.some((e=>"bold"===e.type.name))?"bold":"normal",fontStyle:u.some((e=>"italic"===e.type.name))?"italic":"normal",textDecoration:u.some((e=>"underline"===e.type.name))?"underline":"none",color:null!==(n=v(null!==(r=null===(o=u.find((e=>"textColor"===e.type.name)))||void 0===o?void 0:o.attrs.color)&&void 0!==r?r:l.Text.FontColor))&&void 0!==n?n:c.color.content.primary.default(),backgroundColor:null!==(i=v(null===(s=u.find((e=>"backgroundColor"===e.type.name)))||void 0===s?void 0:s.attrs.color))&&void 0!==i?i:"transparent",textTransform:null===(d=u.find((e=>"textCase"===e.type.name)))||void 0===d?void 0:d.attrs.casing}})()},readOnly:!0}))}));class $e extends Ce.udg{constructor(e){super(e),this.ReactComponent=(0,r.forwardRef)(((e,t)=>{const{node:n}=e;return r.createElement(Pe,{ref:t,node:n,appearance:this.appearance,documentColors:this.documentColors,answers:this.answers})})),this.appearance=e.appearance,this.answers=e.answers,this.documentColors=e.documentColors}get name(){return"blankReactNode"}createNodeSpec(){return{attrs:{id:{default:void 0},index:{default:void 0}},content:"block*",group:"inline",inline:!0,atom:!0,toDOM:e=>["blank-react-node",{index:e.attrs.index,id:e.attrs.id},0],parseDOM:[{tag:"blank-react-node",getAttrs:e=>({index:e.getAttribute("index"),id:e.getAttribute("id")})}]}}}$e.defaultOptions={disableExtraAttributes:!0,appearance:{},documentColors:{},answers:[]};var Te=n(13262),ze=n(87716),Re=n(69396),De=n(50260),Fe=n(73908),Me=n(58654),Le=n(30620),We=n(93542),Qe=n(7540),Ge=n(59292),_e=n(82260),He=n(43412),Ne=n(9475);const Oe=e=>{let{content:t,extensions:n}=e;const o=new Set([new ze.v({}),new Re.y({}),new De.uj({}),new Fe.l({}),new Me.A,new Le.U,new We.f({}),new Qe.p({}),new Ge.u,new _e.E,new He.p({}),new Ne.XS({}),new Ne.IQ({}),...n||[]]),{manager:i,state:a}=(0,Te._B)({extensions:()=>Array.from(o),content:t,stringHandler:"html"});return r.createElement(Te.tj,{manager:i,state:a,editable:!1,onChange:()=>{}})},Ve=(0,x.Ay)(Ae.$v)((e=>{let{$color:t}=e;return{color:t,lineHeight:"initial"}})),qe=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,selectedAnswerIds:l,showCorrectAnswers:s=!1,events:d}=e;const{t:c,documentConfig:u}=f(),m=(0,y.l)(d,n,o,i,a),p=w(n),{Frame:v,Type:h}=p;return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",overflow:"hidden",...b({item:n,parentContainerBoxItem:i})},className:v,role:"button",tabIndex:void 0===m.onClick?0:void 0,...m},(()=>{switch(h){case ce.r.Quiz:return r.createElement(ge,{key:n.Id,item:p,t:c,selectedAnswerIds:l,showCorrectAnswers:s,disabled:s,documentColors:null===u||void 0===u?void 0:u.colors});case ce.r.OpenAnswer:return r.createElement(fe.R,{key:n.Id,item:p,t:c,userAnswer:null!==l&&void 0!==l&&l.length?l[0]:void 0,disabled:s,documentColors:null===u||void 0===u?void 0:u.colors});case ce.r.TrueFalse:return r.createElement(xe,{key:n.Id,item:p,t:c,selectedAnswerIds:l,showCorrectAnswers:s,disabled:s,documentColors:null===u||void 0===u?void 0:u.colors});case ce.r.Image:return r.createElement(ve,{key:n.Id,item:p,t:c,selectedAnswerIds:l,showCorrectAnswers:s,disabled:s,documentColors:null===u||void 0===u?void 0:u.colors});case ce.r.Sort:return r.createElement(we.N,{key:n.Id,item:p,t:c,showCorrectAnswers:s,disabled:s,documentColors:null===u||void 0===u?void 0:u.colors});case ce.r.Survey:return r.createElement(Ie,{key:n.Id,item:p,t:c,selectedAnswerIds:l});case ce.r.FillInTheBlanks:return r.createElement(ue.V,{documentColors:null===u||void 0===u?void 0:u.colors,key:n.Id,item:p,showQuestion:p.Options.ShowQuestion,userWordIds:{},setUserWordIds:()=>{},QuestionContent:p?r.createElement(Oe,{content:p.Text,extensions:[new $e({appearance:p.Appearance,documentColors:null===u||void 0===u?void 0:u.colors,answers:p.Answers})]}):void 0,QuestionTitleComponent:p&&p.Question?r.createElement(Oe,{content:p.Question,extensions:[new de.sR({nodeViewComponents:{paragraph:e=>{let{forwardRef:t}=e;return r.createElement(Ve,{ref:t,$color:p.Appearance.Question.FontColor})}}})]}):void 0});default:throw new Error(`InteractiveQuestion type ${h} does not have any component associated`)}})())}))),je=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const s=(0,y.l)(l,n,o,i,a),d=w(n);return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...b({item:n,parentContainerBoxItem:i}),zIndex:99999,maxWidth:"100%",width:"100%",height:"100%"},role:"button",tabIndex:void 0===s.onClick?0:void 0,...s},r.createElement("img",{style:{width:32,height:32},src:d.Source,alt:d.Name}))})));var Ze=n(60766);const Ye=x.Ay.div((e=>{let{theme:{color:t,size:n}}=e;return{background:t.background.reversed.default(.4),width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:t.content.reversed.default(),borderRadius:n.units(2/3),padding:n.units(1),paddingLeft:void 0,boxShadow:`0 1px ${n.units(1)} 0 ${t.shadow.primary.default(.2)}`,"& svg":{width:n.units(5.5)}}})),Ue=x.Ay.div.attrs((e=>{let{$thumbnail:t}=e;return{style:{background:`center / cover url(${t}) no-repeat`}}}))((()=>({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}))),Xe=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const s=(0,y.l)(l,n,o,i,a),d=w(n),{thumbnail:c}=d,u=parseInt(d.Size.Height,10)<50?"80%":"100%";return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...b({item:n,parentContainerBoxItem:i})},role:"button",tabIndex:void 0===s.onClick?0:void 0,...s},c?r.createElement(Ue,{$thumbnail:c}):r.createElement(Ye,null,r.createElement(Ze.A,{height:u})))}))),Ke=x.Ay.div({position:"absolute",display:"inherit",fontSize:"99%","& svg":{display:"inherit",fontSize:"99%",pointerEvents:"none",animation:"none",filter:"none"},"& svg > *":{animation:"none",filter:"none"},"& svg text":{userSelect:"none",cursor:"default",fontSize:"99%"}}),Je=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),et=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:l,events:d}=e;const c=(0,y.l)(d,o,i,a,l),u=(0,r.useRef)(null),m=w(o),{resolveTaskRef:p}=s(),v=null===(n=m.Colors)||void 0===n?void 0:n[0],f=p(m.SourceSvg);(0,r.useLayoutEffect)((()=>{const e=u.current;e&&(e.querySelectorAll(".color1").forEach((e=>{e.style.fill=v})),Je&&e.querySelectorAll("linearGradient").forEach((e=>{const t=e.id;e.setAttribute("id","rerender"),e.setAttribute("id",t)})))}),[f,v]);const h=(0,r.useCallback)((e=>{u.current=e,t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e))}),[t]);return r.createElement(Ke,{"data-cy":`fakeItem-${o.type}-${o.Id}`,className:"svg-item svg-item-fake",dangerouslySetInnerHTML:{__html:f},ref:h,style:{contain:"size layout style",...b({item:o,parentContainerBoxItem:a})},...c})})));var tt=n(69561),nt=n(8944),rt=n(65210);const ot=x.Ay.div({"-webkit-line-break":"after-white-space","-webkit-nbsp-mode":"normal",lineBreak:"normal",display:"block",outline:"none","&.text-bold":{fontWeight:"bold"},"&.text-italic":{fontStyle:"italic"},"&.text-align-left":{textAlign:"left"},"&.text-align-right":{textAlign:"right"},"&.text-align-justify":{textAlign:"justify"},"&.text-align-center":{textAlign:"center"},"&.uppercase":{textTransform:"uppercase"},"& sub":{verticalAlign:"sub",fontSize:"60%"},"& sup":{verticalAlign:"super",fontSize:"60%"},"&.genially-view-text-indent-list-v4":{"ul, ol":{paddingLeft:"1.8em",listStylePosition:"outside"}},"& *":{pointerEvents:"none"},"& ul":{listStyleType:"disc",ul:{listStyleType:"circle",ul:{listStyleType:"square"}}},"& ol":{listStyleType:"decimal",ol:{listStyleType:"lower-latin",ol:{listStyleType:"lower-roman"}}}},(e=>{let{theme:{color:t,size:n}}=e;return{"&.text-effect-shadow":{textShadow:`2px 2px 6px ${t.shadow.primary.default(.5)}`},"&.interparagraph_medium":{...Ae.iF.mixins.setInterparagraph(n.units(1))},"&.interparagraph_big":{...Ae.iF.mixins.setInterparagraph(n.units(2.25))},"& p":{margin:`0 0 ${n.units(1.25)}`},"& ul, & ol":{lineBreak:"normal",display:"block",marginTop:0,marginBottom:0,paddingLeft:n.units(3.125),listStylePosition:"inside"},"&.genially-view-text-indent-list-v3":{"ul, ol":{paddingLeft:n.units(6.25),listStylePosition:"outside"}},"&.genially-view-text-indent-paragraph-v5 blockquote":{margin:`0 0 0 ${n.units(5)}`,border:"none",padding:0}}})),it=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const{canBeTranslated:s}=f(),d=(0,y.l)(l,n,o,i,a),c=w(n),u=(0,rt.I)(c),m=c.Version>=6;return r.createElement(ot,{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,className:(0,tt.A)([u,{notranslate:!s}]),style:{contain:"size layout style",...b({item:n,parentContainerBoxItem:i}),backgroundColor:c.Background,color:c.Color,fontSize:c.FontSize,fontFamily:(0,nt.f)(c.FontFamily,m),padding:c.Padding,lineHeight:c.LineHeight,letterSpacing:`${c.LetterSpacing}px`,wordWrap:c.Version<2?"initial":"break-word"},dangerouslySetInnerHTML:{__html:c.TextMessage},...d})})));var at=n(63507),lt=n(55404);const st=(0,x.Ay)(Ae.Lf)((e=>{let{theme:{color:t}}=e;return{color:t.content.secondary.default()}})),dt=(0,x.SL)((e=>{let{theme:{color:t},width:n,name:o}=e;const i=(0,at.v4)(),[a,l]=(0,r.useState)(null),[s,d]=(0,r.useState)(null),c=(0,r.useCallback)((()=>{const e=[];for(let t=0;t<41;t+=1)e.push(128);if(a&&s){s.clearRect(0,0,a.width,a.height),s.fillStyle=t.content.secondary.default();for(let t=0;t<41;t+=1){var n;const r=8*t,o=4,i=-((null!==(n=e[t])&&void 0!==n?n:0)/2||5);s.fillRect(r,a.height,o,i)}}}),[a,s,t.content.secondary]);return(0,r.useEffect)((()=>{const e=document.querySelector(`#canva-element-fake${i}`);e&&(l(e),d(e.getContext("2d")),c())}),[i,c]),r.createElement("div",{className:"widget-audio-player"},r.createElement("div",{className:"widget-audio-player-play-container"},r.createElement(lt.A,null)),r.createElement("div",{className:"widget-audio-player-info-container"},r.createElement("div",{className:"widget-audio-player-bars-group",id:"widget-audio-player-bars-group"},r.createElement("canvas",{id:`canva-element-fake${i}`,style:{width:"100%",height:"42%"}})),r.createElement("div",{className:"widget-audio-player-file-progress-bar"}),r.createElement("div",{className:"widget-audio-player-file-name-container"},r.createElement(st,{className:"widget-audio-player-file-name",style:{fontSize:parseFloat(n)/22}},o))))})),ct=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const{t:s}=f(),d=(0,y.l)(l,n,o,i,a),c=w(n),{Name:u,Size:m}=c;return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...b({item:n,parentContainerBoxItem:i})},role:"button",tabIndex:void 0===d.onClick?0:void 0,...d},r.createElement(dt,{name:u||s("__new.shared.items.type.widget-audio"),width:m.Width}))})));var ut=n(26564),mt=n(70445),pt=n(47836);const vt=x.Ay.div((()=>({}))),ft=x.Ay.div((e=>{let{theme:{color:t}}=e;return{background:t.background.reversed.default(.8),color:t.content.reversed.default(),"& svg":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),ht=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const[s,d]=(0,r.useState)(!1),c=w(n),{Thumbnail:u,Name:m,Size:p}=c,v=c.UploadedFrom===ut.xG.File,{isVideoVisualizationForbidden:h,isOffline:g}=f(),I=(0,r.useCallback)((()=>{d(!0)}),[]),x={...(0,y.l)(l,n,o,i,a),onError:I},C={"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...b({item:n,parentContainerBoxItem:i})},...x};return v&&(s||h)?r.createElement(vt,{style:C.style},r.createElement(mt.S,{isVisualizationForbidden:h,width:parseFloat(p.Width)})):u?r.createElement(pt.u,{alt:null!==m&&void 0!==m?m:"",dataCy:C["data-cy"],itemEvents:x,ref:C.ref,src:u,style:C.style,isOffline:g}):r.createElement(ft,{...C},r.createElement(oe,{height:"50%",width:"50%"}))}))),gt=(0,o.PA)((e=>{let{itemType:t,item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l}=e;const s=f(),d=(0,r.useRef)(null);function c(e){return{item:e.item,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,ref:s.renderItem?d:void 0,events:l}}function m(e){switch(t){case u.S.Activity:return r.createElement(qe,{...c(e)});case u.S.Area:return r.createElement(k,{...c(e)});case u.S.Arrow:return r.createElement(R,{...c(e)});case u.S.BaseWidget:return r.createElement(W,{...c(e)});case u.S.Chart:case h:return r.createElement(O,{...c(e)});case u.S.Group:return r.createElement(Y,{...c(e)});case u.S.Image:return r.createElement(se,{...c(e)});case u.S.Pin:return r.createElement(je,{...c(e)});case u.S.RichContent:return r.createElement(Xe,{...c(e)});case u.S.Svg:return r.createElement(et,{...c(e)});case u.S.Text:return r.createElement(it,{...c(e)});case u.S.WidgetAudio:{const t=w(n);return t.DisplayPlayer&&!t.IsBackground?r.createElement(ct,{...c(e)}):null}case u.S.WidgetVideo:return r.createElement(ht,{...c(e)});case u.S.ContainerBox:return r.createElement(j,{...c(e)});default:return console.error(`tried to render a fake item for the unknown item type ${t}`),null}}return s.renderItem?s.renderItem({item:n,itemId:n.Id,itemType:t,itemRef:d,itemZIndex:g(n),parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:l,renderItemNode:m}):m({item:n})})),wt=[];function yt(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>(e=>{const t=w(e);return!((0,d.X)(t)&&t.IdGroup)&&!((0,c.Kb)(t)&&t.containerBoxId)})(e))).map((e=>({item:e,itemType:t}))))&&void 0!==n?n:wt}const It=(0,o.PA)((e=>{var t,n,o,a,l,d,m,f,h,g,y,I,b,x,C,k,A,S,B;let{canBeTranslated:E=!0,delta:P,documentConfig:$,onBackgroundClick:T,onItemClick:z,onItemMouseEnter:R,onItemMouseLeave:D,renderItem:F,showBackgroundColor:M=!0,showBackgroundImage:L=!0,slide:W,t:Q,isVideoVisualizationForbidden:G=!1,containerBoxStateMap:_,isOffline:H=!1,transversalItems:N=[]}=e;const O=((e,t)=>{if(t)return"data"in e?e.data.BackgroundColor:e.BackgroundColor})(W,M),V=((e,t)=>{var n;if(t)return"Background"in e?e.Background:null===(n=e.background)||void 0===n?void 0:n.currentBackgroundImage})(W,L),q=(e=>{if("data"in e){const{resolveTaskRef:t}=s();return t(e.data.SizeBackground)}return e.SizeBackground?e.SizeBackground:e.BackgroundHeight&&e.BackgroundWidth?{Width:e.BackgroundWidth,Height:e.BackgroundHeight}:{Width:e.Size.Width,Height:e.Size.Height}})(W),j=(e=>{if("data"in e){const{resolveTaskRef:t}=s();return t(e.data.PositionBackground)}return e.PositionBackground?e.PositionBackground:e.PositionBackgroundLeft&&e.PositionBackgroundTop?{PositionTop:e.PositionBackgroundTop,PositionLeft:e.PositionBackgroundLeft}:e.PositionBackground})(W),Z="data"in W?W.data.OpacityBackground:W.OpacityBackground,Y={width:parseFloat(null!==(t=("data"in W?W.data.Size:null!==(n=W.Size)&&void 0!==n?n:W).Width)&&void 0!==t?t:"0"),height:parseFloat(null!==(o=("data"in W?W.data.Size:null!==(a=W.Size)&&void 0!==a?a:W).Height)&&void 0!==o?o:"0")},U=(0,r.useMemo)((()=>({onClick:z,onMouseEnter:R,onMouseLeave:D})),[z,R,D]),X=(e=>{if("allItems"in e&&e.allItems)return e.allItems;const t=[];return Object.values(i.B).forEach((n=>{const r=e[n];r&&t.push(...r)})),t})(W).concat(N);if(_){var K,J;const e=null!==(K=null===(J=W.containerBoxes)||void 0===J?void 0:J.length)&&void 0!==K?K:0;if(e!==_.size)throw new Error(`provided containerBoxStateMap size (${_.size}) does not match the number of containerBoxes (${e})`)}const ee=new Map;null===(l=W[i.B.ContainerBoxes])||void 0===l||l.forEach((e=>{var t,n,r;const o=null===_||void 0===_||null===(t=_.get(e.Id))||void 0===t?void 0:t.side;ee.set(e.Id,{containedItems:[],side:o,cardItems:new Map,group:null!==(n=null===e||void 0===e||null===(r=e.group)||void 0===r?void 0:r.map((e=>e.id)))&&void 0!==n?n:[]})})),X.forEach((e=>{const t=w(e);if((0,c.Kb)(t)&&t.containerBoxId){const r=ee.get(t.containerBoxId);if(!r)return;if(r.containedItems.push(e),"containerBoxCardId"in t&&t.containerBoxCardId){var n;const o=null!==(n=r.cardItems.get(t.containerBoxCardId))&&void 0!==n?n:[];o.push(e),r.cardItems.set(t.containerBoxCardId,o)}}}));const te={slide:{items:X,containerBoxStateMap:ee,size:Y},delta:P,canBeTranslated:E,documentConfig:$,t:Q,renderItem:F,isVideoVisualizationForbidden:G,isOffline:H},ne=(0,r.useMemo)((()=>N.map((e=>e.Id))),[N]),re=(0,r.useCallback)((e=>!ne.includes(e.Id)),[ne]),oe=(null!==(d=W[i.B.Activities])&&void 0!==d?d:[]).filter(re),ie=(null!==(m=W[i.B.Areas])&&void 0!==m?m:[]).filter(re),ae=(null!==(f=W[i.B.Arrows])&&void 0!==f?f:[]).filter(re),le=(null!==(h=W[i.B.BaseWidgets])&&void 0!==h?h:[]).filter(re),se=(null!==(g=W[i.B.ContainerBoxes])&&void 0!==g?g:[]).filter(re),de=(null!==(y=W[i.B.Charts])&&void 0!==y?y:[]).filter(re),ce=(null!==(I=W[i.B.Groups])&&void 0!==I?I:[]).filter(re),ue=(null!==(b=W[i.B.Images])&&void 0!==b?b:[]).filter(re),me=(null!==(x=W[i.B.Pins])&&void 0!==x?x:[]).filter(re),pe=(null!==(C=W[i.B.RichContents])&&void 0!==C?C:[]).filter(re),ve=(null!==(k=W[i.B.Svgs])&&void 0!==k?k:[]).filter(re),fe=(null!==(A=W[i.B.Texts])&&void 0!==A?A:[]).filter(re),he=(null!==(S=W[i.B.WidgetsAudio])&&void 0!==S?S:[]).filter(re),ge=(null!==(B=W[i.B.WidgetsVideo])&&void 0!==B?B:[]).filter(re);return r.createElement(v.Provider,{value:te},r.createElement(p,{key:W.Id,backgroundImageOpacity:Z,backgroundImage:V,backgroundImageSize:q,backgroundImagePosition:j,backgroundColor:O,onClick:T}),[...yt(oe,u.S.Activity),...yt(ie,u.S.Area),...yt(ae,u.S.Arrow),...yt(le,u.S.BaseWidget),...yt(se,u.S.ContainerBox),...yt(de,u.S.Chart),...yt(ce,u.S.Group),...yt(ue,u.S.Image),...yt(me,u.S.Pin),...yt(pe,u.S.RichContent),...yt(ve,u.S.Svg),...yt(fe,u.S.Text),...yt(he,u.S.WidgetAudio),...yt(ge,u.S.WidgetVideo),...N.map((e=>yt([e],e.type))).flat()].map((e=>{let{item:t,itemType:n}=e;return r.createElement(gt,{key:t.Id,itemType:n,item:t,parentGroupItem:void 0,directParentContainerBoxItem:void 0,indirectParentContainerBoxItem:void 0,events:U})})))})),bt=It}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/slideThumbnail.6e3962a8.chunk.js.map